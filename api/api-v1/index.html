
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the Nextcloud News App">
      
      
      
        <meta name="author" content="Nextcloud News Team">
      
      
        <link rel="canonical" href="https://nextcloud.github.io/news/api/api-v1/">
      
      <link rel="icon" href="../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.2.1, mkdocs-material-7.1.9">
    
    
      
        <title>API v1 - Nextcloud News App</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.ca7ac06f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.f1a3b89f.min.css">
        
      
    
    
    
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#external-api-v1-2" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Nextcloud News App" class="md-header__button md-logo" aria-label="Nextcloud News App" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Nextcloud News App
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API v1
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/nextcloud/news/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Nextcloud News App" class="md-nav__button md-logo" aria-label="Nextcloud News App" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    Nextcloud News App
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/nextcloud/news/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../install/" class="md-nav__link">
        Installation/Update
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../clients/" class="md-nav__link">
        Clients
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../admin/" class="md-nav__link">
        Admin
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../developer/" class="md-nav__link">
        Developer
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" data-md-state="indeterminate" type="checkbox" id="__nav_7" checked>
      
      <label class="md-nav__link" for="__nav_7">
        Features
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Features" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Features
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../features/customCSS/" class="md-nav__link">
        Custom CSS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../features/plugins/" class="md-nav__link">
        Plugins
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../features/themes/" class="md-nav__link">
        Themes
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" checked>
      
      <label class="md-nav__link" for="__nav_8">
        REST API
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="REST API" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          REST API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          API v1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        API v1
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api-stability-contract" class="md-nav__link">
    API stability contract
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication-basics" class="md-nav__link">
    Authentication &amp; Basics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-sync" class="md-nav__link">
    How To Sync
  </a>
  
    <nav class="md-nav" aria-label="How To Sync">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initial-sync" class="md-nav__link">
    Initial Sync
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syncing" class="md-nav__link">
    Syncing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-api-from-a-web-application" class="md-nav__link">
    Accessing API from a web application
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#input" class="md-nav__link">
    Input
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output" class="md-nav__link">
    Output
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api-v2/" class="md-nav__link">
        API v2
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../maintenance/" class="md-nav__link">
        Maintenance
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api-stability-contract" class="md-nav__link">
    API stability contract
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication-basics" class="md-nav__link">
    Authentication &amp; Basics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-sync" class="md-nav__link">
    How To Sync
  </a>
  
    <nav class="md-nav" aria-label="How To Sync">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initial-sync" class="md-nav__link">
    Initial Sync
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syncing" class="md-nav__link">
    Syncing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-api-from-a-web-application" class="md-nav__link">
    Accessing API from a web application
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#input" class="md-nav__link">
    Input
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output" class="md-nav__link">
    Output
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nextcloud/news/blob/master/documentation/api/api-v1.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="external-api-v1-2">External API v1-2</h1>
<p>The <strong>News app 1.2</strong> offers a RESTful API</p>
<h2 id="api-stability-contract">API stability contract</h2>
<p>The API level will <strong>change</strong> if the following occurs:</p>
<ul>
<li>A field of an object is removed</li>
<li>A field of an object has a different datatype</li>
<li>The meaning of an API call changes</li>
</ul>
<p>The API level will <strong>not change</strong> if:</p>
<ul>
<li>The app version is changed (e.g. 4.0.1.2 instead of 4.0 or 4.001)</li>
<li>A new attribute is added (e.g. each item gets a new field "something": 1)</li>
<li>The order of the JSON attributes is changed on any level (e.g. "id":3 is not the first field anymore, but the last)</li>
</ul>
<p>You have to design your app with these things in mind!:</p>
<ul>
<li><strong>Don't depend on the order of object attributes. In JSON it does not matter where the object attribute is since you access the value by name, not by index</strong></li>
<li><strong>Don't limit your app to the currently available attributes. New ones might be added. If you don't handle them, ignore them</strong></li>
<li><strong>Use a library to compare versions, ideally one that uses semantic versioning</strong></li>
</ul>
<h2 id="authentication-basics">Authentication &amp; Basics</h2>
<p>Because REST is stateless you have to send user and password each time you access the API. Therefore running Nextcloud <strong>with SSL is highly recommended</strong> otherwise <strong>everyone in your network can log your credentials</strong>.</p>
<p>The base URL for all calls is:</p>
<pre><code>https://yournextcloud.com/index.php/apps/news/api/v1-2/
</code></pre>
<p>All defined routes in the Specification are appended to this url. To access all feeds for instance use this url:</p>
<pre><code>https://yournextcloud.com/index.php/apps/news/api/v1-2/feeds
</code></pre>
<p>Credentials need to be passed as an HTTP header using <a href="https://en.wikipedia.org/wiki/Basic_access_authentication#Client_side">HTTP basic auth</a>:</p>
<pre><code>Authorization: Basic $CREDENTIALS
</code></pre>
<p>where $CREDENTIALS is:</p>
<pre><code>base64(USER:PASSWORD)
</code></pre>
<h2 id="how-to-sync">How To Sync</h2>
<p>This is a small overview over how you should sync your articles with the Nextcloud News app. For more fine-grained details about the API see further down.</p>
<p>All routes are given relative to the base API url (e.g.: https://yournextcloud.com/index.php/apps/news/api/v1-2)</p>
<h3 id="initial-sync">Initial Sync</h3>
<p>The intial sync happens, when a user adds a Nextcloud account in your app. In that case you should fetch all feeds, folders and unread or starred articles from the News app. Do not fetch all articles, not only because it syncs faster, but also because the user is primarily interested in unread articles. To fetch all unread and starred articles, you must call 4 routes:</p>
<ul>
<li><strong>unread articles</strong>: GET /items?type=3&amp;getRead=false&amp;batchSize=-1</li>
<li><strong>starred articles</strong>: GET /items?type=2&amp;getRead=true&amp;batchSize=-1</li>
<li><strong>folders</strong>: GET /folders</li>
<li><strong>feeds</strong>: GET /feeds</li>
</ul>
<p>The JSON response structures can be viewed further down.</p>
<h3 id="syncing">Syncing</h3>
<p>When syncing, you want to push read/unread and starred/unstarred items to the server and receive new and updated items, feeds and folders. To do that, call the following routes:</p>
<ul>
<li><strong>Notify the News app of unread articles</strong>: PUT /items/unread/multiple {"items": [1, 3, 5] }</li>
<li><strong>Notify the News app of read articles</strong>: PUT /items/read/multiple {"items": [1, 3, 5]}</li>
<li><strong>Notify the News app of starred articles</strong>: PUT /items/starred/multiple {"items": [{"feedId": 3, "guidHash": "adadafasdasd1231"}, ...]}</li>
<li><strong>Notify the News app of unstarred articles</strong>: PUT /items/unstarred/multiple {"items": [{"feedId": 3, "guidHash": "adadafasdasd1231"}, ...]}</li>
<li><strong>Get new folders</strong>: GET /folders</li>
<li><strong>Get new feeds</strong>: GET /feeds</li>
<li><strong>Get new items and modified items</strong>: GET /items/updated?lastModified=12123123123&amp;type=3</li>
</ul>
<h2 id="accessing-api-from-a-web-application">Accessing API from a web application</h2>
<p><strong>News 1.401</strong> implements CORS which allows web applications to access the API. <strong>To access the API in a webapp you need to send the correct authorization header instead of simply putting auth data into the URL!</strong>. An example request in jQuery would look like this:</p>
<pre><code class="language-js">$.ajax({
    type: 'GET',
    url: 'https://yournextcloud.com/index.php/apps/news/api/v1-2/version',
    contentType: 'application/json',
    success: function (response) {
        // handle success
    },
    error: function () {
        // handle errors
    },
    beforeSend: function (xhr) {
        var username = 'john';
        var password = 'doe';
        var auth = btoa(username + ':' + password);
        xhr.setRequestHeader('Authorization', 'Basic ' + auth);
    }
});
</code></pre>
<p>An example with AngularJS would look like this:</p>
<pre><code class="language-js">angular.module('YourApp', [])
    .config(['$httpProvider', '$provide', function ($httpProvider, $provide) {
        $provide.factory('AuthInterceptor', ['Credentials', '$q', function (Credentials, $q) {
            return {
                request: function (config) {
                    // only set auth headers if url matches the api url
                    if(config.url.indexOf(Credentials.url) === 0) {
                        auth = btoa(Credentials.userName + ':' + Credentials.password);
                        config.headers['Authorization'] = 'Basic ' + auth;
                    }
                    return config || $q.when(config);
                }
            };
        }]);
        $httpProvider.interceptors.push('AuthInterceptor');
    }])
    .factory('Credentials', function () {
        return {
            userName: 'user',
            password: 'password',
            url: 'https://yournextcloud.com/index.php/apps/news/api'
        };
    })
    .run(['$http', function($http) {
        $http({
            method: 'GET',
            url: 'https://yournextcloud.com/index.php/apps/news/api/v1-2/version'
        }).success(function (data, status, header, config) {
            // handle success
        }).error(function (data, status, header, config) {
            // handle error
        });
    }]);
</code></pre>
<h2 id="input">Input</h2>
<p>In general the input parameters can be in the URL or request body, the App Framework doesnt differentiate between them.</p>
<p>So JSON in the request body like:</p>
<pre><code class="language-jsonc">{
  &quot;id&quot;: 3
}
</code></pre>
<p>will be treated the same as</p>
<pre><code>/?id=3
</code></pre>
<p>It is recommended though that you use the following convention:</p>
<ul>
<li><strong>GET</strong>: parameters in the URL</li>
<li><strong>POST</strong>: parameters as JSON in the request body</li>
<li><strong>PUT</strong>: parameters as JSON in the request body</li>
<li><strong>DELETE</strong>: parameters as JSON in the request body</li>
</ul>
<h2 id="output">Output</h2>
<p>The output is JSON.</p>
<h1 id="folders">Folders</h1>
<h2 id="get-all-folders">Get all folders</h2>
<ul>
<li><strong>Status</strong>: Implemented</li>
<li><strong>Method</strong>: GET</li>
<li><strong>Route</strong>: /folders</li>
<li><strong>Parameters</strong>: none</li>
<li><strong>Returns</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;folders&quot;: [
    {
      &quot;id&quot;: 4,
      &quot;name&quot;: &quot;Media&quot;
    }, // etc
  ]
}
</code></pre>
<h2 id="create-a-folder">Create a folder</h2>
<p>Creates a new folder and returns a new folder object</p>
<ul>
<li><strong>Status</strong>: Implemented</li>
<li><strong>Method</strong>: POST</li>
<li><strong>Route</strong>: /folders</li>
<li><strong>Parameters</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;name&quot;: &quot;folder name&quot;
}
</code></pre>
<ul>
<li><strong>Return codes</strong>:</li>
<li><strong>HTTP 409</strong>: If the folder exists already</li>
<li><strong>HTTP 422</strong>: If the folder name is invalid (for instance empty)</li>
<li><strong>Returns</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;folders&quot;: [
    {
      &quot;id&quot;: 4,
      &quot;name&quot;: &quot;Media&quot;
    }
  ]
}
</code></pre>
<h2 id="delete-a-folder">Delete a folder</h2>
<p>Deletes a folder with the id folderId and all the feeds it contains</p>
<ul>
<li><strong>Status</strong>: Implemented</li>
<li><strong>Method</strong>: DELETE</li>
<li><strong>Route</strong>: /folders/{folderId}</li>
<li><strong>Parameters</strong>: none</li>
<li><strong>Return codes</strong>:</li>
<li><strong>HTTP 404</strong>: If the folder does not exist</li>
<li><strong>Returns</strong>: nothing</li>
</ul>
<h2 id="rename-a-folder">Rename a folder</h2>
<p>Only the name can be updated</p>
<ul>
<li><strong>Status</strong>: Implemented</li>
<li><strong>Method</strong>: PUT</li>
<li><strong>Route</strong>: /folders/{folderId}</li>
<li><strong>Parameters</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;name&quot;: &quot;folder name&quot;
}
</code></pre>
<ul>
<li><strong>Return codes</strong>:</li>
<li><strong>HTTP 409</strong>: If the folder name does already exist</li>
<li><strong>HTTP 404</strong>: If the folder does not exist</li>
<li><strong>HTTP 422</strong>: If the folder name is invalid (for instance empty)</li>
<li><strong>Returns</strong>: nothing</li>
</ul>
<h2 id="mark-items-of-a-folder-as-read">Mark items of a folder as read</h2>
<ul>
<li><strong>Status</strong>: Implemented</li>
<li><strong>Method</strong>: PUT</li>
<li><strong>Route</strong>: /folders/{folderId}/read</li>
<li><strong>Parameters</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
    // mark all items read lower than equal that id
    // this is mean to prevent marking items as read which the client/user does not yet know of
    &quot;newestItemId&quot;: 10
}
</code></pre>
<ul>
<li><strong>Return codes</strong>:</li>
<li><strong>HTTP 404</strong>: If the feed does not exist</li>
<li><strong>Returns</strong>: nothing</li>
</ul>
<h1 id="feeds">Feeds</h1>
<h2 id="sanitation">Sanitation</h2>
<p>The following attributes are <strong>not sanitized</strong> meaning: including them in your web application can lead to  XSS:</p>
<ul>
<li><strong>title</strong></li>
<li><strong>link</strong></li>
</ul>
<h2 id="get-all-feeds">Get all feeds</h2>
<ul>
<li><strong>Status</strong>: Implemented</li>
<li><strong>Method</strong>: GET</li>
<li><strong>Route</strong>: /feeds</li>
<li><strong>Parameters</strong>: none</li>
<li><strong>Returns</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;feeds&quot;: [
    {
      &quot;id&quot;: 39,
      &quot;url&quot;: &quot;http://feeds.feedburner.com/oatmealfeed&quot;,
      &quot;title&quot;: &quot;The Oatmeal - Comics, Quizzes, &amp; Stories&quot;,
      &quot;faviconLink&quot;: &quot;http://theoatmeal.com/favicon.ico&quot;,
      &quot;added&quot;: 1367063790,
      &quot;folderId&quot;: 4,
      &quot;unreadCount&quot;: 9,
      &quot;ordering&quot;: 0, // 0 means no special ordering, 1 means oldest first, 2 newest first, new in 5.1.0
      &quot;link&quot;: &quot;http://theoatmeal.com/&quot;,
      &quot;pinned&quot;: true // if a feed should be sorted before other feeds, added in 6.0.3,
      &quot;updateErrorCount&quot;: 0, // added in 8.6.0, 0 if no errors occured during the last update,
                             // otherwise is incremented for each failed update.
                             // Once it reaches a threshold, a message should be displayed to the user
                             // indicating that the feed has failed to update that many times.
                             // The webapp displays the message after 50 failed updates
      &quot;lastUpdateError&quot;: &quot;error message here&quot;  // added in 8.6.0, empty string or null if no update
                                               // error happened, otherwise contains the last update error message
    }, // etc
  ],
  &quot;starredCount&quot;: 2,
  &quot;newestItemId&quot;: 3443  // only sent if there are items
}
</code></pre>
<h2 id="create-a-feed">Create a feed</h2>
<p>Creates a new feed and returns the feed</p>
<ul>
<li><strong>Status</strong>: Implemented</li>
<li><strong>Method</strong>: POST</li>
<li><strong>Route</strong>: /feeds</li>
<li><strong>Parameters</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;url&quot;: &quot;http:\/\/www.cyanogenmod.org\/wp-content\/themes\/cyanogenmod\/images\/favicon.ico&quot;,
  &quot;folderId&quot;: 81 //  id of the parent folder, null for root
}
</code></pre>
<ul>
<li><strong>Return codes</strong>:</li>
<li><strong>HTTP 409</strong>: If the feed exists already</li>
<li><strong>HTTP 422</strong>: If the feed cant be read (most likely contains errors)</li>
<li><strong>Returns</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;feeds&quot;: [
    {
      &quot;id&quot;: 39,
      &quot;url&quot;: &quot;http://feeds.feedburner.com/oatmealfeed&quot;,
      &quot;title&quot;: &quot;The Oatmeal - Comics, Quizzes, &amp; Stories&quot;,
      &quot;faviconLink&quot;: &quot;http://theoatmeal.com/favicon.ico&quot;,
      &quot;added&quot;: 1367063790,
      &quot;folderId&quot;: 4,
      &quot;unreadCount&quot;: 9,
      &quot;ordering&quot;: 0, // 0 means no special ordering, 1 means oldest first, 2 newest first, new in 5.1.0
      &quot;link&quot;: &quot;http://theoatmeal.com/&quot;,
      &quot;pinned&quot;: true // if a feed should be sorted before other feeds, added in 6.0.3
    }
  ],
  &quot;newestItemId&quot;: 23 // only sent if there are items
}
</code></pre>
<h2 id="delete-a-feed">Delete a feed</h2>
<p>Deletes a feed with the id feedId and all of its  items</p>
<ul>
<li><strong>Status</strong>: Implemented</li>
<li><strong>Method</strong>: DELETE</li>
<li><strong>Route</strong>: /feeds/{feedId}</li>
<li><strong>Parameters</strong>: none</li>
<li><strong>Return codes</strong>:</li>
<li><strong>HTTP 404</strong>: If the feed does not exist</li>
<li><strong>Returns</strong>: nothing</li>
</ul>
<h2 id="move-a-feed-to-a-different-folder">Move a feed to a different folder</h2>
<ul>
<li><strong>Status</strong>: Implemented</li>
<li><strong>Method</strong>: PUT</li>
<li><strong>Route</strong>: /feeds/{feedId}/move</li>
<li><strong>Parameters</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;folderId&quot;: null //  id of the parent folder, null for root
}
</code></pre>
<ul>
<li><strong>Return codes</strong>:</li>
<li><strong>HTTP 404</strong>: If the feed does not exist</li>
<li><strong>Returns</strong>: nothing</li>
</ul>
<h2 id="rename-a-feed">Rename a feed</h2>
<ul>
<li><strong>Status</strong>: Implemented in 1.807</li>
<li><strong>Method</strong>: PUT</li>
<li><strong>Route</strong>: /feeds/{feedId}/rename</li>
<li><strong>Parameters</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;feedTitle&quot;: &quot;New Title&quot;
}
</code></pre>
<ul>
<li><strong>Return codes</strong>:</li>
<li><strong>HTTP 404</strong>: If the feed does not exist</li>
<li><strong>Returns</strong>: nothing</li>
</ul>
<h2 id="mark-items-of-a-feed-as-read">Mark items of a feed as read</h2>
<ul>
<li><strong>Status</strong>: Implemented</li>
<li><strong>Method</strong>: PUT</li>
<li><strong>Route</strong>: /feeds/{feedId}/read</li>
<li><strong>Parameters</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  // mark all items read lower than equal that id
  // this is mean to prevent marking items as read which the client/user does not yet know of
  &quot;newestItemId&quot;: 10
}
</code></pre>
<ul>
<li><strong>Return codes</strong>:</li>
<li><strong>HTTP 404</strong>: If the feed does not exist</li>
<li><strong>Returns</strong>: nothing</li>
</ul>
<h1 id="items">Items</h1>
<h2 id="sanitation_1">Sanitation</h2>
<p>The following attributes are <strong>not sanitized</strong> meaning: including them in your web application can lead to  XSS:</p>
<ul>
<li><strong>title</strong></li>
<li><strong>author</strong></li>
<li><strong>url</strong></li>
<li><strong>enclosureMime</strong></li>
<li><strong>enclosureLink</strong></li>
<li><strong>mediaThumbnail</strong></li>
<li><strong>mediaDescription</strong></li>
</ul>
<h2 id="get-items">Get items</h2>
<ul>
<li><strong>Status</strong>: Implemented</li>
<li><strong>Method</strong>: GET</li>
<li><strong>Route</strong>: /items</li>
<li><strong>Parameters</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;batchSize&quot;: 10, //  the number of items that should be returned, defaults to -1, new in 5.2.3: -1 returns all items
  &quot;offset&quot;: 30, // only return older (lower than equal that id) items than the one with id 30
  &quot;type&quot;: 1, // the type of the query (Feed: 0, Folder: 1, Starred: 2, All: 3)
  &quot;id&quot;: 12, // the id of the folder or feed, Use 0 for Starred and All
  &quot;getRead&quot;: true, // if true it returns all items, false returns only unread items
  &quot;oldestFirst&quot;: false  // implemented in 3.002, if true it reverse the sort order
}
</code></pre>
<ul>
<li><strong>Returns</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;items&quot;: [
    {
      &quot;id&quot;: 3443,
      &quot;guid&quot;: &quot;http://grulja.wordpress.com/?p=76&quot;,
      &quot;guidHash&quot;: &quot;3059047a572cd9cd5d0bf645faffd077&quot;,
      &quot;url&quot;: &quot;http://grulja.wordpress.com/2013/04/29/plasma-nm-after-the-solid-sprint/&quot;,
      &quot;title&quot;: &quot;Plasma-nm after the solid sprint&quot;,
      &quot;author&quot;: &quot;Jan Grulich (grulja)&quot;,
      &quot;pubDate&quot;: 1367270544,
      &quot;body&quot;: &quot;&lt;p&gt;At first I have to say...&lt;/p&gt;&quot;,
      &quot;enclosureMime&quot;: null,
      &quot;enclosureLink&quot;: null,
      &quot;mediaThumbnail&quot;: null, // new in 14.1.4-rc1
      &quot;mediaDescription&quot;: null, // new in 14.1.4-rc1
      &quot;feedId&quot;: 67,
      &quot;unread&quot;: true,
      &quot;starred&quot;: false,
      &quot;rtl&quot;: false, // new in 6.0.2
      &quot;lastModified&quot;: 1367273003,
      &quot;fingerprint&quot;: &quot;aeaae2123&quot;  // new in 8.4.0 hash over title, enclosures, body and url. Same fingerprint means same item and it's advised to locally mark the other one read as well and filter out duplicates in folder and all articles view
    }, // etc
  ]
}
</code></pre>
<h3 id="example">Example</h3>
<p>Autopaging would work like this:</p>
<ul>
<li>Get the <strong>first 20</strong> items from a feed with <strong>id 12</strong></li>
</ul>
<p><strong>GET /items</strong>:</p>
<pre><code class="language-jsonc">{
  &quot;batchSize&quot;: 20,
  &quot;offset&quot;: 0,
  &quot;type&quot;: 1,
  &quot;id&quot;: 12,
  &quot;getRead&quot;: false
}
</code></pre>
<p>The item with the lowest item id is 43.</p>
<ul>
<li>Get the next <strong>20</strong> items: <strong>GET /items</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;batchSize&quot;: 20,
  &quot;offset&quot;: 43,
  &quot;type&quot;: 1,
  &quot;id&quot;: 12,
  &quot;getRead&quot;: false
}
</code></pre>
<h2 id="get-updated-items">Get updated items</h2>
<p>This is used to stay up to date.</p>
<ul>
<li><strong>Status</strong>: Implemented</li>
<li><strong>Method</strong>: GET</li>
<li><strong>Route</strong>: /items/updated</li>
<li><strong>Parameters</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;lastModified&quot;: 123231, // returns only items with a lastModified timestamp &gt;= than this one
                          // this may also return already existing items whose read or starred status
                          // has been changed
  &quot;type&quot;: 1, // the type of the query (Feed: 0, Folder: 1, Starred: 2, All: 3)
  &quot;id&quot;: 12 // the id of the folder or feed, Use 0 for Starred and All
}
</code></pre>
<ul>
<li><strong>Returns</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;items&quot;: [
    {
      &quot;id&quot;: 3443,
      &quot;guid&quot;: &quot;http://grulja.wordpress.com/?p=76&quot;,
      &quot;guidHash&quot;: &quot;3059047a572cd9cd5d0bf645faffd077&quot;,
      &quot;url&quot;: &quot;http://grulja.wordpress.com/2013/04/29/plasma-nm-after-the-solid-sprint/&quot;,
      &quot;title&quot;: &quot;Plasma-nm after the solid sprint&quot;,
      &quot;author&quot;: &quot;Jan Grulich (grulja)&quot;,
      &quot;pubDate&quot;: 1367270544,
      &quot;body&quot;: &quot;&lt;p&gt;At first I have to say...&lt;/p&gt;&quot;,
      &quot;enclosureMime&quot;: null,
      &quot;enclosureLink&quot;: null,
      &quot;feedId&quot;: 67,
      &quot;unread&quot;: true,
      &quot;starred&quot;: false,
      &quot;lastModified&quot;: 1367273003,
      &quot;fingerprint&quot;: &quot;aeaae2123&quot;  // new in 8.4.0 hash over title, enclosures, body and url. Same fingerprint means same item and it's advised to locally mark the other one read as well and filter out duplicates in folder and all articles view
    }, // etc
  ]
}
</code></pre>
<h2 id="mark-an-item-as-read">Mark an item as read</h2>
<ul>
<li><strong>Status</strong>: Implemented</li>
<li><strong>Method</strong>: PUT</li>
<li><strong>Route</strong>: /items/{itemId}/read</li>
<li><strong>Parameters</strong>: none</li>
<li><strong>Return codes</strong>:</li>
<li><strong>HTTP 404</strong>: If the item does not exist</li>
<li><strong>Returns</strong>: nothing</li>
</ul>
<h2 id="mark-multiple-items-as-read">Mark multiple items as read</h2>
<ul>
<li><strong>Status</strong>: Implemented in 1.2</li>
<li><strong>Method</strong>: PUT</li>
<li><strong>Route</strong>: /items/read/multiple</li>
<li><strong>Parameters</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;items&quot;: [2, 3] // ids of the items
}
</code></pre>
<ul>
<li><strong>Returns</strong>: nothing</li>
</ul>
<h2 id="mark-an-item-as-unread">Mark an item as unread</h2>
<ul>
<li><strong>Status</strong>: Implemented</li>
<li><strong>Method</strong>: PUT</li>
<li><strong>Route</strong>: /items/{itemId}/unread</li>
<li><strong>Parameters</strong>: none</li>
<li><strong>Return codes</strong>:</li>
<li><strong>HTTP 404</strong>: If the item does not exist</li>
<li><strong>Returns</strong>: nothing</li>
</ul>
<h2 id="mark-multiple-items-as-unread">Mark multiple items as unread</h2>
<ul>
<li><strong>Status</strong>: Implemented in 1.2</li>
<li><strong>Method</strong>: PUT</li>
<li><strong>Route</strong>: /items/unread/multiple</li>
<li><strong>Parameters</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;items&quot;: [2, 3] // ids of the items
}
</code></pre>
<ul>
<li><strong>Returns</strong>: nothing</li>
</ul>
<h2 id="mark-an-item-as-starred">Mark an item as starred</h2>
<ul>
<li><strong>Status</strong>: Implemented</li>
<li><strong>Method</strong>: PUT</li>
<li><strong>Route</strong>: /items/{feedId}/{guidHash}/star</li>
<li><strong>Parameters</strong>: none</li>
<li><strong>Return codes</strong>:</li>
<li><strong>HTTP 404</strong>: If the item does not exist</li>
<li><strong>Returns</strong>: nothing</li>
</ul>
<h2 id="mark-multiple-items-as-starred">Mark multiple items as starred</h2>
<ul>
<li><strong>Status</strong>: Implemented in 1.2</li>
<li><strong>Method</strong>: PUT</li>
<li><strong>Route</strong>: /items/star/multiple</li>
<li><strong>Parameters</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;items&quot;: [
    {
      &quot;feedId&quot;: 3,
      &quot;guidHash&quot;: &quot;sdf&quot;
    }, // etc
  ]
}
</code></pre>
<ul>
<li><strong>Returns</strong>: nothing</li>
</ul>
<h2 id="mark-an-item-as-unstarred">Mark an item as unstarred</h2>
<ul>
<li><strong>Status</strong>: Implemented</li>
<li><strong>Method</strong>: PUT</li>
<li><strong>Route</strong>: /items/{feedId}/{guidHash}/unstar</li>
<li><strong>Parameters</strong>: none</li>
<li><strong>Return codes</strong>:</li>
<li><strong>HTTP 404</strong>: If the item does not exist</li>
<li><strong>Returns</strong>: nothing</li>
</ul>
<h2 id="mark-multiple-items-as-unstarred">Mark multiple items as unstarred</h2>
<ul>
<li><strong>Status</strong>: Implemented in 1.2</li>
<li><strong>Method</strong>: PUT</li>
<li><strong>Route</strong>: /items/unstar/multiple</li>
<li><strong>Parameters</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;items&quot;: [
    {
      &quot;feedId&quot;: 3,
      &quot;guidHash&quot;: &quot;sdf&quot;
    }, // etc
  ]
}
</code></pre>
<ul>
<li><strong>Returns</strong>: nothing</li>
</ul>
<h2 id="mark-all-items-as-read">Mark all items as read</h2>
<ul>
<li><strong>Status</strong>: Implemented</li>
<li><strong>Method</strong>: PUT</li>
<li><strong>Route</strong>: /items/read</li>
<li><strong>Parameters</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
    // mark all items read lower than equal that id
    // this is mean to prevent marking items as read which the client/user does not yet know of
    &quot;newestItemId&quot;: 10
}
</code></pre>
<ul>
<li><strong>Return codes</strong>:</li>
<li><strong>HTTP 404</strong>: If the feed does not exist</li>
<li><strong>Returns</strong>: nothing</li>
</ul>
<h1 id="updater">Updater</h1>
<p>To enable people to write their own update scripts instead of relying on the sequential built in web and system cron, API routes and console commands have been created.</p>
<p>Updating should be done in the following fashion:</p>
<ul>
<li>Run the cleanup before the update</li>
<li>Get all feeds and user ids</li>
<li>For each feed and user id, run the update command</li>
<li>Run the cleanup after the update.</li>
</ul>
<p>This <a href="https://github.com/nextcloud/news-updater">implementation in Python</a> should give you a good idea how to design and run it.</p>
<h2 id="trigger-cleanup-before-update">Trigger cleanup before update</h2>
<p>This is used to clean up the database. It deletes folders and feeds that are marked for deletion</p>
<ul>
<li><strong>Status</strong>: Implemented in 1.601</li>
<li><strong>Authentication</strong>: Requires admin user</li>
<li><strong>Method</strong>: GET</li>
<li><strong>Route</strong>: /cleanup/before-update</li>
<li><strong>Returns</strong>: Nothing</li>
</ul>
<p><strong>New in 8.1.0</strong>: The console command for achieving the same result is:</p>
<pre><code>php -f nextcloud/occ news:updater:before-update
</code></pre>
<h2 id="get-feed-ids-and-usernames-for-all-feeds">Get feed ids and usernames for all feeds</h2>
<ul>
<li><strong>Status</strong>: Implemented in 1.203</li>
<li><strong>Authentication</strong>: Requires admin user</li>
<li><strong>Method</strong>: GET</li>
<li><strong>Route</strong>: /feeds/all</li>
<li><strong>Parameters</strong>: none</li>
<li><strong>Returns</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;feeds&quot;: [
    {
      &quot;id&quot;: 39,
      &quot;userId&quot;: &quot;john&quot;,
    }, // etc
  ]
}
</code></pre>
<p><strong>New in 8.1.0, Removed in 16.0.0</strong>: The console command for achieving the same result is:</p>
<pre><code>php -f nextcloud/occ news:updater:all-feeds
</code></pre>
<h2 id="trigger-a-feed-update">Trigger a feed update</h2>
<ul>
<li><strong>Status</strong>: Implemented in 1.601</li>
<li><strong>Authentication</strong>: Requires admin user</li>
<li><strong>Method</strong>: GET</li>
<li><strong>Route</strong>: /feeds/update</li>
<li><strong>Parameters</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;userId&quot;: &quot;john&quot;,
  &quot;feedId&quot;: 3
}
</code></pre>
<ul>
<li><strong>Return codes</strong>:</li>
<li><strong>HTTP 404</strong>: If the feed does not exist</li>
<li><strong>Returns</strong>: Nothing</li>
</ul>
<p><strong>New in 8.1.0</strong>: The console command for achieving the same result is:</p>
<pre><code>php -f nextcloud/occ news:updater:update-feed 3 john
</code></pre>
<h2 id="trigger-cleanup-after-update">Trigger cleanup after update</h2>
<p>This is used to clean up the database. It removes old read articles which are not starred</p>
<ul>
<li><strong>Status</strong>: Implemented in 1.601</li>
<li><strong>Authentication</strong>: Requires admin user</li>
<li><strong>Method</strong>: GET</li>
<li><strong>Route</strong>: /cleanup/after-update</li>
<li><strong>Returns</strong>: Nothing</li>
</ul>
<p><strong>New in 8.1.0</strong>: The console command for achieving the same result is:</p>
<pre><code>php -f nextcloud/occ news:updater:after-update
</code></pre>
<h1 id="version">Version</h1>
<h2 id="get-the-version">Get the version</h2>
<ul>
<li><strong>Status</strong>: Implemented</li>
<li><strong>Method</strong>: GET</li>
<li><strong>Route</strong>: /version</li>
<li><strong>Parameters</strong>: none</li>
<li><strong>Returns</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;version&quot;: &quot;5.2.3&quot;
}
</code></pre>
<h1 id="status">Status</h1>
<p>This API can be used to display warnings and errors in your client if the web app is improperly configured or not working. It is a good idea to call this route on like every 10th update and after the server connection parameters have been changed since it's likely that the user set up a new instance and configured the app improperly.</p>
<h2 id="get-the-status">Get the status</h2>
<ul>
<li><strong>Status</strong>: Implemented in 5.2.4</li>
<li><strong>Method</strong>: GET</li>
<li><strong>Route</strong>: /status</li>
<li><strong>Parameters</strong>: none</li>
<li><strong>Returns</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;version&quot;: &quot;5.2.4&quot;,
  &quot;warnings&quot;: {
    &quot;improperlyConfiguredCron&quot;: false,  // if true the webapp will fail to update the feeds correctly
    &quot;incorrectDbCharset&quot;: false
  }
}
</code></pre>
<p>If <strong>improperlyConfiguredCron</strong> is true you should display a warning that the app will not receive updates properly.</p>
<p>This is due to the fact that the installation runs the cron in ajax mode to update the feeds. This is the default if you don't change anything and means that the app will only receive feed updates if the webinterface is accessed which will lead to lost updates.</p>
<p>You should show the following warning and the link should be clickable:</p>
<pre><code>The News App updater is improperly configured and you will lose updates.
See http://hisdomain.com/index.php/apps/news for instructions on how to fix it.
</code></pre>
<p>If <strong>incorrectDbCharset</strong> is true you should display a warning that database charset is set up incorrectly and updates with unicode characters might fail</p>
<h1 id="user">User</h1>
<p>This API can be used to retrieve metadata about the current user.</p>
<p>DEPRECATED: This API is deprecated, use the Nextcloud APIs instead.
- https://docs.nextcloud.com/server/latest/developer_manual/client_apis/OCS/ocs-api-overview.html#user-metadata for user data
- <code>https://nc.url/avatar/{userid}/{size}?v={1|2}</code> for the avatar</p>
<h2 id="get-the-status_1">Get the status</h2>
<ul>
<li><strong>Status</strong>: Implemented in 6.0.5</li>
<li><strong>Method</strong>: GET</li>
<li><strong>Route</strong>: /user</li>
<li><strong>Parameters</strong>: none</li>
<li><strong>Returns</strong>:</li>
</ul>
<pre><code class="language-jsonc">{
  &quot;userId&quot;: &quot;john&quot;,
  &quot;displayName&quot;: &quot;John Doe&quot;,
  &quot;lastLoginTimestamp&quot;: 1241231233,  // unix timestamp
  &quot;avatar&quot;: { // if no avatar exists, this is null
    &quot;data&quot;: &quot;asdiufadfasdfjlkjlkjljdfdf&quot;,  // base64 encoded image
    &quot;mime&quot;: &quot;image/jpeg&quot;
  }
}
</code></pre>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../../features/themes/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Themes" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Themes
            </div>
          </div>
        </a>
      
      
        
        <a href="../api-v2/" class="md-footer__link md-footer__link--next" aria-label="Next: API v2" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              API v2
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.indexes", "navigation.tracking", "navigation.instant", "navigation.expand", "navigation.sections"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.477d984a.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.82b56eb2.min.js"></script>
      
    
  </body>
</html>